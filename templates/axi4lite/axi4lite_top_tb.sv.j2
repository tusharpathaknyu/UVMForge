//------------------------------------------------------------------------------
// AXI4-Lite Top Testbench - Generated by UVMForge
//------------------------------------------------------------------------------

`timescale 1ns/1ps

module top_tb;
    
    import uvm_pkg::*;
    `include "uvm_macros.svh"
    import {{ prefix }}_pkg::*;
    
    logic {{ clock }};
    logic {{ reset }};
    
    initial begin
        {{ clock }} = 0;
        forever #5 {{ clock }} = ~{{ clock }};
    end
    
    initial begin
        {{ reset }} = {% if reset_active_low %}1'b0{% else %}1'b1{% endif %};
        repeat (10) @(posedge {{ clock }});
        {{ reset }} = {% if reset_active_low %}1'b1{% else %}1'b0{% endif %};
    end
    
    {{ prefix }}_if vif({{ clock }}, {{ reset }});
    
    {{ module_name }} dut (
        .{{ clock }}   ({{ clock }}),
        .{{ reset }}   ({{ reset }}),
        .awaddr        (vif.awaddr),
        .awvalid       (vif.awvalid),
        .awready       (vif.awready),
        .awprot        (vif.awprot),
        .wdata         (vif.wdata),
        .wstrb         (vif.wstrb),
        .wvalid        (vif.wvalid),
        .wready        (vif.wready),
        .bresp         (vif.bresp),
        .bvalid        (vif.bvalid),
        .bready        (vif.bready),
        .araddr        (vif.araddr),
        .arvalid       (vif.arvalid),
        .arready       (vif.arready),
        .arprot        (vif.arprot),
        .rdata         (vif.rdata),
        .rresp         (vif.rresp),
        .rvalid        (vif.rvalid),
        .rready        (vif.rready)
    );
    
    initial begin
        uvm_config_db#(virtual {{ prefix }}_if.master)::set(null, "*", "vif", vif.master);
        uvm_config_db#(virtual {{ prefix }}_if.monitor)::set(null, "*", "vif", vif.monitor);
        run_test();
    end
    
    initial begin
        $dumpfile("{{ prefix }}_tb.vcd");
        $dumpvars(0, top_tb);
    end
    
    initial begin
        #1ms;
        `uvm_fatal("TIMEOUT", "Test timed out!")
    end
    
endmodule : top_tb
